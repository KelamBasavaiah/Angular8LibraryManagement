<div class="card">
    <div class="card-header"><h3><b>ADD BOOK DETAILS</b></h3></div>
    <div class="card-body">
        <form name="form" (ngSubmit)="f.form.valid && insertBook()" #f="ngForm" >
            <div class="col-md-6">
                <div class="form-group">
                    <label>Enter the Book Id :</label>
                    <input type="text" class="form-control" name="id" #id="ngModel" [(ngModel)]="book.id" pattern="[a-zA-Z0-9]*" required>
                    <div *ngIf="!id?.valid && (id?.dirty || id?.touched)" class="invalid-feedback">                
                        <div *ngIf="id.errors.required">Book ID is required</div>
                        <div *ngIf="id.errors.pattern">ID cannot contain space</div>
                    </div>
                </div>
                <div class="form-group">
                    <label>Enter the Book Name :</label>
                    <input type="text" class="form-control" name="name" #name="ngModel" [(ngModel)]="book.name" pattern="^[a-zA-Z]+$" required>
                    <div *ngIf="!name?.valid && (name?.dirty || name?.touched)" class="invalid-feedback">                
                        <div *ngIf="name.errors.required">Book Name is required</div>
                        <div *ngIf="name.errors.pattern">Only characters are allowed</div>
    
                    </div>
                </div>
                <div class="form-group">
                    <label for="author">Enter the Author Name : </label>
                    <input type="text" id="author" class="form-control" name="author" required minlength="8" #author="ngModel" 
                                pattern="^[a-zA-Z]+$"  [(ngModel)]="book.author_name">
                     
                    <div *ngIf="!author?.valid && (author?.dirty || author?.touched)" class="invalid-feedback">
                        <div *ngIf="author.errors.required">
                            Author Name is required
                        </div>
                        <div *ngIf="author.errors.pattern">
                            Only characters are allowed
                        </div>
                        <div *ngIf="author.errors.minlength">Length must be atleast 8</div>
                    </div>
                </div>
                <div class="form-group">
                    <label>Enter Edition :</label>
                    <input type="number" class="form-control" name="edition" #edition="ngModel" [(ngModel)]="book.edition" min="1"
                    pattern="[0-9]*" required>
                    <div *ngIf="!edition?.valid && (edition?.dirty || edition?.touched)" class="invalid-feedback">                
                        <div *ngIf="edition.errors.required">Edition is required</div>
                        <div *ngIf="edition.errors.pattern">Edition cannot be letters and negative numbers </div>
                    </div>
                </div>
                <div class="form-group">
                    <label>Enter Price :</label>
                    <input type="text" class="form-control" name="price" #price="ngModel" [(ngModel)]="book.price"  pattern="[0-9]*" required>
                    <div *ngIf="!price?.valid && (price?.dirty || price?.touched)" class="invalid-feedback">                
                        <div *ngIf="price.errors.required">Price is required</div>
                        <div *ngIf="price.errors.pattern">price cannot be letters and negative numbers </div>
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="form-group">
                    <label>Enter Publisher Name :</label>
                    <input type="text" class="form-control" name="publisher" #publisher="ngModel" [(ngModel)]="book.publisher"  pattern="^[a-zA-Z]+$" required>
                    <div *ngIf="!publisher?.valid && (publisher?.dirty || publisher?.touched)" class="invalid-feedback">                
                        <div *ngIf="publisher.errors.required">Publisher Name is required</div>
                        <div *ngIf="publisher.errors.pattern">
                            Only characters are allowed
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label>Choose Genres:</label>
                    <select name="genres" class="form-control" [(ngModel)]="book.genres" #genres="ngModel" required>
                        <option value="journal">Journal</option>
                        <option value="story">Story</option>
                        <option value="novel">Novel</option>
                        <option value="comics">Comics</option>
                    </select>
                    <div *ngIf="!genres?.valid && (geners?.dirty || geners?.touched)" class="invalid-feedback">                
                        <div *ngIf="genres.errors.required">Genres is required</div>
                    </div>
                </div>
                <div class="form-group">
                    <label>Contact No:</label>
                    <input type="text" class="form-control" name="contact" #contact="ngModel" [(ngModel)]="book.contact" pattern="[0-9]*" maxlength="10" minlength="10" required>
                    <div *ngIf="!contact?.valid && (contact?.dirty || contact?.touched)" class="invalid-feedback">                
                        <div *ngIf="contact.errors.required">Contact No is required</div>
                        <div *ngIf="contact.errors.pattern">Contact No must be numbers</div>
                        <div *ngIf="contact.errors.minlength">Contact No must be 10 numbers</div>
                    </div>
    
                </div>
                <div class="form-group">
                    <label>Enter Published Date :</label>
                    <input type="date" class="form-control" name="publishedDate" #publishedDate="ngModel" [(ngModel)]="book.publishedDate" [max]="getToday()" >
                </div>
                <div class="form-group">
                    <label>Enter No.of.Copies :</label>
                    <input type="number" class="form-control" name="copies" #copies="ngModel" [(ngModel)]="book.copies" min="1" pattern="[0-9]*" required>
                    <div *ngIf="!copies?.valid && (copies?.dirty || copies?.touched)" class="invalid-feedback">                
                        <div *ngIf="copies.errors.required">Copies is required</div>
                        <div *ngIf="copies.errors.pattern">Copies must be numbers and cannot be negative numbers</div>
                    </div>
                </div>
            </div>
            <div class="col-md-12">
                <button class="btn btn-success" type="submit" [disabled]="!f.form.valid" id="btnSubmit">submit</button>
                <button class="btn btn-danger" type="reset" id="btnReset">Reset</button>
            </div>
        </form>
    </div>
 </div>
 